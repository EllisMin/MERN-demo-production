(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),u=(n(15),n(8)),s=n(1),l=n.n(s),i=n(4),m=n(2),d=n(9),p=function(e){var t=e.children,n=e.remove,a=e.loading,c=e.disabled,o=Object(d.a)(e,["children","remove","loading","disabled"]);return r.a.createElement("button",Object.assign({className:"".concat(n?"btn-delete":""," btn-custom"),disabled:c||a},o),t)},h=function(e){var t=e.id,n=e.name,a=e.age,c=e.occupation,o=e.attr,u=e.handleDelete;return r.a.createElement("li",{className:"".concat(o?"attr":""," user")},r.a.createElement("span",null,n),r.a.createElement("span",null,a),r.a.createElement("span",null,c),!o&&r.a.createElement(p,{remove:!0,onClick:function(){return u(t)}},"X"))},f=n(3),g=n(7),v=function(e){var t=Object.assign({},e);return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({className:"input-custom",type:"text"},t,{onChange:function(e){return t.onChange(t.id,e.target.value)}})))},E={name:"",age:"",occupation:""},b=function(e){var t=e.loading,n=e.handleAdd,c=Object(a.useState)(E),o=Object(m.a)(c,2),u=o[0],s=o[1],l=function(e,t){var n=Object(g.a)({},u,Object(f.a)({},e,t));s(n)};return r.a.createElement("form",{className:"form-add-user",onSubmit:function(e){return function(e){e.preventDefault(),n(u),s(E)}(e)}},r.a.createElement(v,{id:"name",name:"name",placeholder:"name",value:u.name,onChange:l}),r.a.createElement(v,{id:"age",name:"age",placeholder:"age",value:u.age,onChange:l}),r.a.createElement(v,{name:"occupation",id:"occupation",placeholder:"occupation",value:u.occupation,onChange:l}),r.a.createElement(p,{loading:t,type:"submit"},"Add"))},j=(n(17),function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),s=Object(m.a)(o,2),d=s[0],p=s[1];Object(a.useEffect)((function(){f()}),[]);var f=function(){var e=Object(i.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://mern-demo-prod.herokuapp.com/user",{method:"GET"});case 3:if(200===(t=e.sent).status){e.next=6;break}throw new Error("Fetching user failed");case 6:return e.next=8,t.json();case 8:n=e.sent,p(n.users),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,fetch("https://mern-demo-prod.herokuapp.com/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,age:t.age,occupation:t.occupation})});case 4:if(200===(n=e.sent).status||201===n.status){e.next=7;break}throw new Error("Adding user failed");case 7:return e.next=9,n.json();case 9:a=e.sent,r=[a.user].concat(Object(u.a)(d)),p(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:c(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,fetch("https://mern-demo-prod.herokuapp.com/user/"+t,{method:"DELETE"});case 4:if(200===(n=e.sent).status){e.next=7;break}throw new Error("Deleting user failed");case 7:return e.next=9,n.json();case 9:a=d.filter((function(e){return e._id!==t})),p(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:c(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,"MERN Stack App Demo"),r.a.createElement("hr",null)),r.a.createElement("main",null,r.a.createElement("h2",null,"Add User:"),r.a.createElement(b,{loading:n,handleAdd:g}),r.a.createElement("hr",null),r.a.createElement("h2",null,"Users:"),r.a.createElement("ul",{className:"user-list"},r.a.createElement(h,{name:"Name",age:"Age",occupation:"Occupation",attr:!0}),d.length>0?r.a.createElement(r.a.Fragment,null,d.map((function(e){return r.a.createElement(h,{key:e._id,id:e._id,name:e.name,age:e.age,occupation:e.occupation,handleDelete:v})}))):null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.216f0bc0.chunk.js.map